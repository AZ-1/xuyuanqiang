<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<link rel="stylesheet" href="style.css" type="text/css" />
	
	<title>便签</title>
	
</head>
<body>
		<div id="fa_button">
			<div id="add" class="commen" onclick="newNote()">添加便签</div>
			<div id="change" class="commen" onclick="changeback()">展开主题</div>
		    <div id="changeTitle">
				<div id="yellow" class="commen title" >黄 色</div>
				<div id="pink" class="commen title" >粉 色</div>
				<div id="red" class="commen title" >红 色</div>
				<div id="blue" class="commen title" >蓝 色</div>
		    </div>
		</div>
<!--	<div class="noteStyle" id="noteStyle">
			<img src="" alt="" />
			<div class="content">沙发扫地好风骚搜款到发货抖擞着咖啡是接电话发生地</div>
		</div>
	-->
	<script>
	var show=false;
	function changeback(){
	var changeDiv=document.getElementById('changeTitle');
	var change=document.getElementById('change');
	var yellow=document.getElementById('yellow');
	var pink=document.getElementById('pink');
	var blue=document.getElementById('blue');
	var red=document.getElementById('red');
	var noteStyle=document.getElementsByClassName('noteStyle');
	
	if(!show){
		changeDiv.style.display='block';
		change.innerHTML='关闭主题';
		show=true;
	}
	else{
		changeDiv.style.display='none';
		change.innerHTML='展开主题';
		show=false;
	}
	yellow.onclick=function(){
		for(var i=0;i<noteStyle.length;i++)
		    noteStyle[i].style.background='url(sp11.png) -100px -90px no-repeat';
	}
	red.onclick=function(){
		for(var i=0;i<noteStyle.length;i++)
		   noteStyle[i].style.background='url(sp11.png) -100px -380px no-repeat';
	}
	pink.onclick=function(){
		for(var i=0;i<noteStyle.length;i++)
		    noteStyle[i].style.background='url(sp11.png) -370px -80px no-repeat';
	}
	blue.onclick=function(){
		for(var i=0;i<noteStyle.length;i++)
		   noteStyle[i].style.background='url(sp11.png) -380px -380px no-repeat';
	}
	/*changeDiv.onmouseout=function(){
		changeDiv.style.display='none';
	}*/
}
function newNote(){
	var self = this;
	var content=document.createElement('div');
	content.className='content';
	content.innerHTML='吴辉大坏蛋'
	var close = document.createElement('img');
	close.src='deleteButton.png';
	close.className='close';
	var note = document.createElement('div');
	note.className='noteStyle';
	note.style.left = Math.round(Math.random() * 400) + 'px';
    note.style.top = Math.round(Math.random() * 500) + 'px';
	note.appendChild(content);
	note.appendChild(close);
	close.onclick=function(){
		document.body.removeChild(note);
	}
	var ok=false;
	self.onmousedown=function(e){
		var event=e||window.event;
		var ox=event.offsetX|| event.layerX;
		var oy=event.offsetY|| event.layerY;
		ok=true;
		this.onmouseover=function(e){
			if(ok){
			var ev=e||window.event;
			var cx=ev.clientX;
			var cy=ev.clientY;
			note.style.left=cx-ox+'px';
			note.style.top=cy-oy+'px';

			}

		}
	}
	self.onmouseup=function(){
		if (ok) {
			ok=false;
		};
	}

	document.body.appendChild(note);
}

	</script>
</body>
</html>